{"remainingRequest":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-4.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zhijian/fourth/javaweb/rent-system/rent-vue-4.0/src/views/login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-4.0/src/views/login/index.vue","mtime":1591895253221},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-4.0/node_modules/cache-loader/dist/cjs.js","mtime":1591895249737},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-4.0/node_modules/babel-loader/lib/index.js","mtime":1591895249725},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-4.0/node_modules/cache-loader/dist/cjs.js","mtime":1591895249737},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-4.0/node_modules/vue-loader/lib/index.js","mtime":1591895249413}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { addDynamicRoutes } from '@/utils/router'\n\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: 'zhijian',\n        password: '123456',\n      },\n      loginRules: {\n        // TODO\n      },\n      registerForm: {\n        username: '',\n        password: '',\n        role: '1',\n      },\n      registerRules: {\n        // TODO\n      },\n      capsToolTip: false,\n      registerDialogVisible: false,\n    }\n  },\n  methods: {\n    checkCapslock(e) {\n      const { key } = e\n      this.capsTooltip = key && key.length === 1 && (key >= 'A' && key <= 'Z')\n    },\n    handleLogin() {\n      this.postRequest('/account/login', this.loginForm).then(resp => {\n        if (resp) {\n          // console.log(resp)\n          sessionStorage.setItem('username', resp.username)\n          sessionStorage.setItem('role', resp.role)\n          this.$router.push('/home')\n        }\n      })\n    },\n    handleRegister() {\n      // $TODO: AUTO LOGIN\n      // this.getRequest('/tenant', this.loginForm, { test: \"test\" }).then(resp => {\n      //   console.log(resp)\n      // })\n    }\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <div class=\"login--containner\">\n    <el-form class=\"login-form\" :model=\"loginForm\" :rules=\"loginRules\">\n\n      <h3>Login Form</h3>\n\n      <el-form-item prop=\"username\">\n        <el-input type=\"text\" v-model=\"loginForm.username\" autocomplete=\"on\"\n        />\n      </el-form-item>\n\n      <el-tooltip v-model=\"capsToolTip\" content=\"大写锁定已打开\" placement=\"right\" manual>\n        <el-form-item prop=\"password\">\n          <el-input type=\"text\" v-model=\"loginForm.password\" autocomplete=\"on\" \n            @keyup.native=\"checkCapslock\" \n            @blur=\"capsToolTip = false\"\n            @keyup.enter.native=\"handleLogin\"\n          />\n        </el-form-item>\n      </el-tooltip>\n\n      <el-button type=\"primary\" @click.native.prevent=\"handleLogin\">Login</el-button>\n\n      <el-button type=\"info\" @click=\"registerDialogVisible = true\">未注册？ 点击注册</el-button>\n\n    </el-form>\n\n    <el-dialog title=\"register\" :visible.sync=\"registerDialogVisible\">\n      <el-form class=\"register-form\" :model=\"registerForm\" :rules=\"registerRules\">\n        \n        <el-radio v-model=\"registerForm.role\" label=\"1\">租客</el-radio>\n        <el-radio v-model=\"registerForm.role\" label=\"2\">客服</el-radio>\n\n        <el-form-item prop=\"username\" label=\"用户名\">\n          <el-input type=\"text\" v-model=\"registerForm.username\" autocomplete=\"on\"\n          />\n        </el-form-item>\n\n        <el-form-item prop=\"password\" label=\"密码\">\n          <el-input type=\"text\" v-model=\"registerForm.password\" autocomplete=\"on\"\n          />\n        </el-form-item>\n\n      </el-form>\n\n      <div>\n        <el-button type=\"primary\" @click=\"registerDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleRegister\">注 测</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { addDynamicRoutes } from '@/utils/router'\n\n  export default {\n    data() {\n      return {\n        loginForm: {\n          username: 'zhijian',\n          password: '123456',\n        },\n        loginRules: {\n          // TODO\n        },\n        registerForm: {\n          username: '',\n          password: '',\n          role: '1',\n        },\n        registerRules: {\n          // TODO\n        },\n        capsToolTip: false,\n        registerDialogVisible: false,\n      }\n    },\n    methods: {\n      checkCapslock(e) {\n        const { key } = e\n        this.capsTooltip = key && key.length === 1 && (key >= 'A' && key <= 'Z')\n      },\n      handleLogin() {\n        this.postRequest('/account/login', this.loginForm).then(resp => {\n          if (resp) {\n            // console.log(resp)\n            sessionStorage.setItem('username', resp.username)\n            sessionStorage.setItem('role', resp.role)\n            this.$router.push('/home')\n          }\n        })\n      },\n      handleRegister() {\n        // $TODO: AUTO LOGIN\n        // this.getRequest('/tenant', this.loginForm, { test: \"test\" }).then(resp => {\n        //   console.log(resp)\n        // })\n      }\n    }\n  }\n</script>"]}]}