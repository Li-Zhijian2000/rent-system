{"remainingRequest":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/babel-loader/lib/index.js!/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/src/utils/api.js","dependencies":[{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/src/utils/api.js","mtime":1591283260761},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/cache-loader/dist/cjs.js","mtime":1590898200625},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/babel-loader/lib/index.js","mtime":1590898200625}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport axios from 'axios';\nimport { Message } from 'element-ui';\nimport router from \"../router\";\naxios.interceptors.response.use(function (success) {\n  console.log(success);\n\n  if (success.status && success.status == 200 && success.data.status == 500) {\n    Message.error({\n      message: success.data.message\n    });\n    return;\n  }\n\n  if (success.data.message) {\n    Message.success({\n      message: success.data.message\n    });\n  }\n\n  return success.data;\n}, function (error) {\n  console.log(error);\n\n  if (error.response.status == 600) {\n    Message.error({\n      message: '自定义错误'\n    });\n  } else if (error.response.status == 504 || error.response.status == 404) {\n    Message.error({\n      message: '服务器被吃了( ╯□╰ )'\n    });\n  } else if (error.response.status == 403) {\n    Message.error({\n      message: '权限不足，请联系管理员'\n    });\n  } else if (error.response.status == 401) {\n    Message.error({\n      message: '尚未登录，请登录'\n    });\n    router.replace('/');\n  } else {\n    if (error.response.data.message) {\n      Message.error({\n        message: error.response.data.message\n      });\n    } else {\n      Message.error({\n        message: '未知错误!'\n      });\n    }\n  }\n\n  return;\n});\nvar base = '';\nexport var postKeyValueRequest = function postKeyValueRequest(url, params) {\n  return axios({\n    method: 'post',\n    url: \"\".concat(base).concat(url),\n    data: params,\n    transformRequest: [function (data) {\n      var ret = '';\n\n      for (var i in data) {\n        ret += encodeURIComponent(i) + '=' + encodeURIComponent(data[i]) + '&';\n      }\n\n      return ret;\n    }],\n    headers: {\n      'Content-Type': \"application/json;charset=UTF-8\"\n    }\n  });\n};\nexport var postRequest = function postRequest(url, params) {\n  return axios({\n    method: 'post',\n    url: \"\".concat(base).concat(url),\n    data: params\n  });\n};\nexport var putRequest = function putRequest(url, params) {\n  return axios({\n    method: 'put',\n    url: \"\".concat(base).concat(url),\n    data: params\n  });\n};\nexport var getRequest = function getRequest(url, params) {\n  return axios({\n    method: 'get',\n    url: \"\".concat(base).concat(url),\n    params: params\n  });\n};\nexport var deleteRequest = function deleteRequest(url, params) {\n  return axios({\n    method: 'delete',\n    url: \"\".concat(base).concat(url),\n    params: params\n  });\n};",{"version":3,"sources":["/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/src/utils/api.js"],"names":["axios","Message","router","interceptors","response","use","success","console","log","status","data","error","message","replace","base","postKeyValueRequest","url","params","method","transformRequest","ret","i","encodeURIComponent","headers","postRequest","putRequest","getRequest","deleteRequest"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { Message } from 'element-ui';\nimport router from '../router'\n\naxios.interceptors.response.use(success => {\n  console.log(success)\n  if (success.status && success.status == 200 && success.data.status == 500) {\n    Message.error({ message: success.data.message })\n    return;\n  }\n  if (success.data.message) {\n    Message.success({ message: success.data.message })\n  }\n  return success.data;\n}, error => {\n  console.log(error)\n  if (error.response.status == 600) {\n    Message.error({ message: '自定义错误' })\n  }\n  else if (error.response.status == 504 || error.response.status == 404) {\n    Message.error({ message: '服务器被吃了( ╯□╰ )' })\n  } else if (error.response.status == 403) {\n    Message.error({ message: '权限不足，请联系管理员' })\n  } else if (error.response.status == 401) {\n    Message.error({ message: '尚未登录，请登录' })\n    router.replace('/');\n  } else {\n    if (error.response.data.message) {\n      Message.error({ message: error.response.data.message })\n    } else {\n      Message.error({ message: '未知错误!' })\n    }\n  }\n  return;\n})\n\nlet base = '';\n\nexport const postKeyValueRequest = (url, params) => {\n  return axios({\n    method: 'post',\n    url: `${base}${url}`,\n    data: params,\n    transformRequest: [function (data) {\n      let ret = '';\n      for (let i in data) {\n        ret += encodeURIComponent(i) + '=' + encodeURIComponent(data[i]) + '&'\n      }\n      return ret;\n    }],\n    headers: {\n      'Content-Type': \"application/json;charset=UTF-8\"\n    }\n  });\n}\nexport const postRequest = (url, params) => {\n  return axios({\n    method: 'post',\n    url: `${base}${url}`,\n    data: params\n  })\n}\nexport const putRequest = (url, params) => {\n  return axios({\n    method: 'put',\n    url: `${base}${url}`,\n    data: params\n  })\n}\nexport const getRequest = (url, params) => {\n  return axios({\n    method: 'get',\n    url: `${base}${url}`,\n    params: params,\n  })\n}\nexport const deleteRequest = (url, params) => {\n  return axios({\n    method: 'delete',\n    url: `${base}${url}`,\n    params: params\n  })\n}\n"]}]}