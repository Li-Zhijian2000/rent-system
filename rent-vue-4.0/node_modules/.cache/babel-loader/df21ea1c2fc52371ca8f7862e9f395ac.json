{"remainingRequest":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/babel-loader/lib/index.js!/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/src/views/hms/housing/components/CountySelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/src/views/hms/housing/components/CountySelector.vue","mtime":1591865950498},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/cache-loader/dist/cjs.js","mtime":1590898200625},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/babel-loader/lib/index.js","mtime":1590898200625},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/cache-loader/dist/cjs.js","mtime":1590898200625},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/vue-loader/lib/index.js","mtime":1590898200561}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.find-index\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'CountySelector',\n  props: {\n    value: ''\n  },\n  data: function data() {\n    return {\n      provinceList: [],\n      // 省列表\n      cityList: [],\n      // 市列表\n      valueProvince: '',\n      // 所选的省\n      valueCity: '',\n      // 所选的市\n      cityOptions: [] // 市下拉框数据\n\n    };\n  },\n  computed: {\n    selectedCounty: function selectedCounty() {\n      var _this = this;\n\n      var provinceIndex = this.provinceList.findIndex(function (_ref) {\n        var value = _ref.value,\n            label = _ref.label;\n        return value === _this.valueProvince;\n      });\n      var cityIndex = this.cityList.findIndex(function (_ref2) {\n        var value = _ref2.value,\n            label = _ref2.label;\n        return value === _this.valueCity;\n      });\n      return this.provinceList[provinceIndex].label + ' ' + this.cityList[cityIndex].label; //+ ' ' + this.originList[originIndex].label\n    },\n    clear: function clear() {\n      return '';\n    }\n  },\n  methods: {\n    // 选择省\n    changeProvince: function changeProvince(val) {\n      var _this2 = this;\n\n      this.provinceList.forEach(function (province, index) {\n        if (val.toString() === _this2.provinceList[index].value) {\n          _this2.cityOptions = _this2.provinceList[index].children;\n          _this2.valueCity = _this2.provinceList[index].children[0].value; // this.originOptions = this.provinceList[index].children[0].children\n          // this.valueOrigin = this.provinceList[index].children[0].children[0].value\n        }\n      });\n    },\n    // 选择市\n    changeCity: function changeCity(val) {\n      this.valueCity = val;\n    },\n    _getJsonData: function _getJsonData() {\n      var _this3 = this;\n\n      this.getRequest('@/../public/china_address_v4.json').then(function (res) {\n        if (!res) console.log('error');\n        _this3.provinceList = [];\n        _this3.cityList = [];\n        res.data.forEach(function (item) {\n          if (item.value.match(/0000$/)) {\n            _this3.provinceList.push({\n              value: item.value,\n              label: item.name,\n              children: []\n            });\n          } else if (item.value.match(/00$/)) {\n            _this3.cityList.push({\n              value: item.value,\n              label: item.name\n            });\n          }\n        });\n\n        for (var index in _this3.provinceList) {\n          for (var index1 in _this3.cityList) {\n            if (_this3.provinceList[index].value.slice(0, 2) === _this3.cityList[index1].value.slice(0, 2)) {\n              _this3.provinceList[index].children.push(_this3.cityList[index1]);\n            }\n          }\n        }\n      });\n    }\n  },\n  created: function created() {\n    this._getJsonData();\n  }\n};",{"version":3,"sources":["CountySelector.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAgBA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AACA;AACA,MAAA,QAAA,EAAA,EAFA;AAEA;AACA,MAAA,aAAA,EAAA,EAHA;AAGA;AACA,MAAA,SAAA,EAAA,EAJA;AAIA;AACA,MAAA,WAAA,EAAA,EALA,CAKA;;AALA,KAAA;AAOA,GAbA;AAcA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,UAAA,aAAA,GAAA,KAAA,YAAA,CAAA,SAAA,CAAA;AAAA,YAAA,KAAA,QAAA,KAAA;AAAA,YAAA,KAAA,QAAA,KAAA;AAAA,eAAA,KAAA,KAAA,KAAA,CAAA,aAAA;AAAA,OAAA,CAAA;AACA,UAAA,SAAA,GAAA,KAAA,QAAA,CAAA,SAAA,CAAA;AAAA,YAAA,KAAA,SAAA,KAAA;AAAA,YAAA,KAAA,SAAA,KAAA;AAAA,eAAA,KAAA,KAAA,KAAA,CAAA,SAAA;AAAA,OAAA,CAAA;AACA,aAAA,KAAA,YAAA,CAAA,aAAA,EAAA,KAAA,GAAA,GAAA,GAAA,KAAA,QAAA,CAAA,SAAA,EAAA,KAAA,CAHA,CAGA;AACA,KALA;AAMA,IAAA,KANA,mBAMA;AACA,aAAA,EAAA;AACA;AARA,GAdA;AAwBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,cAFA,0BAEA,GAFA,EAEA;AAAA;;AACA,WAAA,YAAA,CAAA,OAAA,CAAA,UAAA,QAAA,EAAA,KAAA,EAAA;AACA,YAAA,GAAA,CAAA,QAAA,OAAA,MAAA,CAAA,YAAA,CAAA,KAAA,EAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,MAAA,CAAA,YAAA,CAAA,KAAA,EAAA,QAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,YAAA,CAAA,KAAA,EAAA,QAAA,CAAA,CAAA,EAAA,KAAA,CAFA,CAGA;AACA;AACA;AACA,OAPA;AAQA,KAXA;AAYA;AACA,IAAA,UAbA,sBAaA,GAbA,EAaA;AACA,WAAA,SAAA,GAAA,GAAA;AACA,KAfA;AAgBA,IAAA,YAhBA,0BAgBA;AAAA;;AACA,WAAA,UAAA,CAAA,mCAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,CAAA,GAAA,EAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,cAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,YAAA,CAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,IAAA,CAAA,KADA;AAEA,cAAA,KAAA,EAAA,IAAA,CAAA,IAFA;AAGA,cAAA,QAAA,EAAA;AAHA,aAAA;AAKA,WANA,MAMA,IAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,IAAA,CAAA,KADA;AAEA,cAAA,KAAA,EAAA,IAAA,CAAA;AAFA,aAAA;AAIA;AACA,SAbA;;AAcA,aAAA,IAAA,KAAA,IAAA,MAAA,CAAA,YAAA,EAAA;AACA,eAAA,IAAA,MAAA,IAAA,MAAA,CAAA,QAAA,EAAA;AACA,gBAAA,MAAA,CAAA,YAAA,CAAA,KAAA,EAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,MAAA,MAAA,CAAA,QAAA,CAAA,MAAA,EAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,YAAA,CAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA;AACA;AACA;AACA;AACA,OAzBA;AA0BA;AA3CA,GAxBA;AAqEA,EAAA,OArEA,qBAqEA;AACA,SAAA,YAAA;AACA;AAvEA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-select v-model=\"valueProvince\" placeholder=\"请选择省\" @change=\"changeProvince\">\n      <el-option v-for=\"item in provinceList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n      </el-option>\n    </el-select>\n    <el-select v-model=\"valueCity\" placeholder=\"请选择市\" @change=\"changeCity\">\n      <el-option v-for=\"item in cityOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n      </el-option>\n    </el-select>\n    <el-button type=\"primary\" size=\"mini\" @click=\"$emit('input', selectedCounty)\">确认</el-button>\n    <el-button type=\"info\" size=\"mini\" @click=\"$emit('input', clear)\">取消</el-button>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'CountySelector',\n    props: {\n      value: ''\n    },\n    data() {\n      return {\n        provinceList: [], // 省列表\n        cityList: [], // 市列表\n        valueProvince: '', // 所选的省\n        valueCity: '', // 所选的市\n        cityOptions: [], // 市下拉框数据\n      }\n    },\n    computed: {\n      selectedCounty() {\n        const provinceIndex = this.provinceList.findIndex(({ value, label }) => value === this.valueProvince)\n        const cityIndex = this.cityList.findIndex(({ value, label }) => value === this.valueCity)\n        return this.provinceList[provinceIndex].label + ' ' + this.cityList[cityIndex].label //+ ' ' + this.originList[originIndex].label\n      },\n      clear() {\n        return ''\n      }\n    },\n    methods: {\n      // 选择省\n      changeProvince(val) {\n        this.provinceList.forEach((province, index) => {\n          if (val.toString() === this.provinceList[index].value) {\n            this.cityOptions = this.provinceList[index].children\n            this.valueCity = this.provinceList[index].children[0].value\n            // this.originOptions = this.provinceList[index].children[0].children\n            // this.valueOrigin = this.provinceList[index].children[0].children[0].value\n          }\n        })\n      },\n      // 选择市\n      changeCity(val) {\n        this.valueCity = val\n      },\n      _getJsonData() {\n        this.getRequest('@/../public/china_address_v4.json').then((res) => {\n          if (!res) console.log('error')\n          this.provinceList = []\n          this.cityList = []\n          res.data.forEach((item) => {\n            if (item.value.match(/0000$/)) {\n              this.provinceList.push({\n                value: item.value,\n                label: item.name,\n                children: []\n              })\n            } else if (item.value.match(/00$/)) {\n              this.cityList.push({\n                value: item.value,\n                label: item.name,\n              })\n            }\n          })\n          for (let index in this.provinceList) {\n            for (let index1 in this.cityList) {\n              if (this.provinceList[index].value.slice(0, 2) === this.cityList[index1].value.slice(0, 2)) {\n                this.provinceList[index].children.push(this.cityList[index1])\n              }\n            }\n          }\n        })\n      }\n    },\n    created() {\n      this._getJsonData()\n    }\n  }\n</script>"],"sourceRoot":"src/views/hms/housing/components"}]}